{% extends "monosaur/base.html" %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-md-12">

        <form action="/analyse/" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <input type="file" name="ofx_file">
          <button type="submit">Upload</button>
        </form>

        <h1>Transaction List</h1>

          <!-- display list of transactions here -->

          <table class="table">
            <tr>
              <th>#</th>
              <th>Date</th>
              <th>Transaction</th>
              <th>Type</th>
              <th>Subscription?</th>
              <th>Amount</th>
            </tr>

            {% for transaction in transactions %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ transaction.date }}</td>
              <td>{{ transaction.name }}</td>
              <td>{{ transaction.category }}</td>
              <td>{{ transaction.subscription }}</td>
              <td>{{ transaction.amount|floatformat:2 }}</td>
            </tr>
            {% endfor %}

          </table>

      </div>
    </div>
  </div>
{% endblock %}
